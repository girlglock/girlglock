<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="GIRLGLOCK ૮ ˶ᵔ ᵕ ᵔ˶ ა">

    <meta property="og:url" content="https://girlglock.com">
    <meta property="og:type" content="website">
    <meta property="og:title" content="PS2 Wallpaper">
    <meta property="og:description" content="૮ ˶ᵔ ᵕ ᵔ˶ ა">
    <meta property="og:image" content="https://cdn.7tv.app/emote/01HA1F8K1R0006NBQ5F58JXQMV/4x.avif">

    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="girlglock.com">
    <meta property="twitter:url" content="https://girlglock.com/ps2">
    <meta name="twitter:title" content="PS2 Wallpaper">
    <meta name="twitter:description" content="૮ ˶ᵔ ᵕ ᵔ˶ ა">
    <meta name="twitter:image" content="https://cdn.7tv.app/emote/01HA1F8K1R0006NBQ5F58JXQMV/4x.avif">
    <title>PS2 Wallpaper | GIRLGLOCK.COM</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: black;
            overflow: hidden;
            font-family: 'Helvetica', Arial, sans-serif;
        }

        canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
        }

        .menu-container {
            position: absolute;
            top: 50%;
            left: 10%;
            transform: translateY(-50%);
            z-index: 100;
            width: 100%;
        }

        .menu-item {
            color: #6b6a6f;
            font-size: 3.5vw;
            text-decoration: none;
            margin-bottom: 1vh;
            transition: color 0.2s ease;
            text-align: center;
            text-shadow: -2px -2px 0 black, 2px -2px 0 black, -2px 2px 0 black, 2px 2px 0 black;
            cursor: default;
            width: 100%;
            min-height: 4vh;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        .menu-item:hover {
            color: #6398c2;
        }

        .weather-item {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1vw;
        }

        .weather-temp {
            font-size: 3.5vw;
        }

        .weather-condition {
            font-size: 2vw;
            opacity: 0.8;
        }

        .location-modal {
            position: fixed;
            inset: 0;
            backdrop-filter: blur(10px);
            background: rgba(0, 0, 0, 0.4);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: none;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            width: 90%;
            max-width: 400px;
            max-height: 100px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            color: #e6e6e6;
        }

        .modal-content input {
            padding: 12px;
            font-size: 16px;
            background: #2a2a2a;
            border: 0px;
            color: #6b6a6f;
            outline: none;
        }

        .modal-content input::placeholder {
            color: #888;
        }

        .modal-buttons {
            display: flex;
            justify-content: space-between;
            font-size: 18px;
            user-select: none;
        }

        .modal-button {
            cursor: pointer;
            padding: 10px 20px;
            border-radius: 6px;
            background: none;
            border: none;
            color: #6b6a6f;
            font-size: 16px;
            transition: color 0.2s ease;
            text-shadow: -2px -2px 0 black, 2px -2px 0 black, -2px 2px 0 black, 2px 2px 0 black;
        }

        .modal-button:hover {
            color: #6398c2;
        }

        .modal-button .icon {
            font-size: 20px;
            margin-right: 6px;
            vertical-align: middle;
        }

        .error-message {
            color: #ff6b6b;
            font-size: 14px;
        }

        .icon-img {
            width: 32px;
            height: 32px;
            margin-right: 6px;
            vertical-align: middle;
        }

        @media (max-width: 768px) {
            .menu-item {
                font-size: 6vw;
                margin-bottom: 3vh;
            }

            .weather-temp {
                font-size: 6vw;
            }

            .weather-condition {
                font-size: 4vw;
            }

            .menu-container {
                right: 20%;
            }

            .action-buttons {
                bottom: 30px;
                right: 30px;
            }

            .action-button {
                font-size: 20px;
                margin-left: 20px;
            }
        }
    </style>
</head>

<body>
    <canvas id="dotsCanvas"></canvas>
    <div class="menu-container">
        <div class="menu-item" id="current-time">--:--:--</div>
        <div class="menu-item" id="current-date">----, ---- -, ----</div>
        <div class="menu-item weather-item" id="weather-display">
            <span class="weather-temp">--°</span>
            <span class="weather-condition">loading...</span>
        </div>
    </div>
    <div class="location-modal" id="location-modal">
        <div class="modal-content">
            <input type="text" id="location-input" placeholder="enter city name">
            <div class="modal-buttons">
                <button class="modal-button" id="cancel-button">
                    <img src="Images/Triangle.png" class="icon-img" alt="Cancel" /> Back
                </button>
                <button class="modal-button" id="save-button">
                    <img src="Images/X.png" class="icon-img" alt="Confirm" /> Confirm
                </button>
            </div>
            <div class="error-message" id="error-message"></div>
        </div>
    </div>
    <script>
        window.userPreferences = JSON.parse(localStorage.getItem('userPreferences')) || {
            timeFormat: 0,
            dateFormat: 0,
            weatherLocation: 'Hannover'
        };

        class SillyDots {
            constructor(canvas) {
                this.canvas = canvas;
                this.ctx = canvas.getContext('2d');
                this.screenWidth = window.innerWidth;
                this.screenHeight = window.innerHeight;
                this.canvas.width = this.screenWidth;
                this.canvas.height = this.screenHeight;
                this.dots = [];
                this.trails = [];
                this.dotPositions = Array(7).fill().map(() => []);
                this.isAnimating = true;
                this.time = 0;
                this.speed = 5;
                this.dotRadius = this.screenHeight / 55;
                this.radius = this.screenHeight / 5;
                this.centerX = this.screenWidth / 2 - this.screenHeight / 7;
                this.centerY = this.screenHeight / 2;
                this.angleFreq = 0.008;
                this.syncCycleDuration = 120 * 120;
                this.dotAngleOffsets = Array(7).fill().map((_, i) => i * 0.75);
                this.trailLength = this.screenHeight / 48;
                this.trailThickness = this.screenHeight / 200;
                this.globeRotationSpeed = 0.003;
                this.targetFps = 60;
                this.frameDelay = 1000 / this.targetFps;
                this.createDots();
                this.animate();
                window.addEventListener('resize', () => {
                    this.screenWidth = window.innerWidth;
                    this.screenHeight = window.innerHeight;
                    this.canvas.width = this.screenWidth;
                    this.canvas.height = this.screenHeight;
                    this.centerX = this.screenWidth / 2 - this.screenHeight / 7;
                    this.centerY = this.screenHeight / 2;
                });
            }

            createDots() {
                for (let i = 0; i < 7; i++) {
                    this.dots.push({ x: 0, y: 0, scale: 1, perspectiveFactor: 1 });
                    this.trails.push([]);
                }
            }

            project3dTo2d(x, y, z) {
                const perspectiveFactor = 1 / (1 + z * 0.001);
                const screenX = x * perspectiveFactor;
                const screenY = y * perspectiveFactor;
                return { screenX, screenY, perspectiveFactor };
            }

            drawGlowBall(x, y, scale) {
                const size = 96 * scale;
                const gradient = this.ctx.createRadialGradient(x, y, 0, x, y, size / 2);
                gradient.addColorStop(0, 'rgba(44, 118, 255, 0.8)');
                gradient.addColorStop(0.5, 'rgba(44, 118, 255, 0.25)');
                gradient.addColorStop(1, 'rgba(44, 118, 255, 0)');
                this.ctx.fillStyle = gradient;
                this.ctx.beginPath();
                this.ctx.arc(x, y, size / 2, 0, Math.PI * 2);
                this.ctx.fill();
            }

            updateTrails() {
                for (let i = 0; i < this.dots.length; i++) {
                    const dot = this.dots[i];
                    const x = dot.x;
                    const y = dot.y;
                    this.dotPositions[i].unshift({ x, y });
                    if (this.dotPositions[i].length > this.trailLength) {
                        this.dotPositions[i].pop();
                    }
                    const positions = this.dotPositions[i];
                    for (let j = 0; j < positions.length - 1; j++) {
                        const pos1 = positions[j];
                        const pos2 = positions[j + 1];
                        const fadeProgress = Math.pow(j / this.trailLength, 0.3);
                        const width = Math.max(1, (1 - fadeProgress) * this.trailThickness);
                        const redVal = Math.floor(107 * (1 - fadeProgress));
                        const greenVal = Math.floor(245 * (1 - fadeProgress));
                        const blueVal = Math.floor(255 * (1 - 0.4 * fadeProgress));
                        this.ctx.strokeStyle = `rgb(${redVal}, ${greenVal}, ${blueVal})`;
                        this.ctx.lineWidth = width;
                        this.ctx.lineCap = 'round';
                        this.ctx.lineJoin = 'round';
                        this.ctx.beginPath();
                        this.ctx.moveTo(pos1.x, pos1.y);
                        this.ctx.lineTo(pos2.x, pos2.y);
                        this.ctx.stroke();
                    }
                }
            }

            animate() {
                if (!this.isAnimating) return;
                this.ctx.clearRect(0, 0, this.screenWidth, this.screenHeight);
                this.time += this.speed;
                const globeAngle = this.time * this.globeRotationSpeed;
                const currentRadius = this.radius;
                const baseAngle = this.time * this.angleFreq;

                for (let i = 0; i < this.dots.length; i++) {
                    const dotAngle = (i * 2 * Math.PI) / 7;
                    const cycleProgress = (this.time % this.syncCycleDuration) / this.syncCycleDuration;
                    const desyncMultiplier = Math.sin(cycleProgress * Math.PI);
                    const desyncOffset = this.dotAngleOffsets[i] * desyncMultiplier;
                    const circleX = Math.cos(baseAngle + dotAngle + desyncOffset) * currentRadius;
                    const circleY = Math.sin(baseAngle + dotAngle + desyncOffset * 1.1) * currentRadius;
                    const globeRadius = circleX;
                    const height = circleY;
                    const x3d = globeRadius * Math.cos(globeAngle);
                    const y3d = height;
                    const z3d = globeRadius * Math.sin(globeAngle);
                    const { screenX, screenY, perspectiveFactor } = this.project3dTo2d(x3d, y3d, z3d);
                    const x = this.centerX + screenX;
                    const y = this.centerY + screenY;
                    const distance = Math.sqrt(screenX * screenX + screenY * screenY);
                    let scale = (0.8 + (distance / this.radius) * 0.4) * perspectiveFactor;
                    scale = Math.max(scale, 0.3);
                    this.dots[i].x = x;
                    this.dots[i].y = y;
                    this.dots[i].scale = scale;
                    this.dots[i].perspectiveFactor = perspectiveFactor;
                }

                this.updateTrails();

                for (let i = 0; i < this.dots.length; i++) {
                    const dot = this.dots[i];
                    this.drawGlowBall(dot.x, dot.y, dot.scale);
                    const dotSize = this.dotRadius * dot.scale;
                    this.ctx.fillStyle = 'white';
                    this.ctx.beginPath();
                    this.ctx.arc(dot.x, dot.y, dotSize / 2, 0, Math.PI * 2);
                    this.ctx.fill();
                }

                setTimeout(() => this.animate(), this.frameDelay);
            }
        }

        class WeatherManager {
            constructor() {
                this.currentWeather = null;
                this.isLoading = false;
                this.setupEventListeners();
                this.loadWeather();
                setInterval(() => this.loadWeather(), 30 * 60 * 1000);
            }

            setupEventListeners() {
                const weatherDisplay = document.getElementById('weather-display');
                const modal = document.getElementById('location-modal');
                const locationInput = document.getElementById('location-input');
                const saveButton = document.getElementById('save-button');
                const cancelButton = document.getElementById('cancel-button');
                const errorMessage = document.getElementById('error-message');

                weatherDisplay.addEventListener('click', () => {
                    modal.style.display = 'flex';
                    locationInput.value = window.userPreferences.weatherLocation;
                    locationInput.focus();
                    errorMessage.textContent = '';
                });

                cancelButton.addEventListener('click', () => {
                    modal.style.display = 'none';
                });

                saveButton.addEventListener('click', () => {
                    this.saveLocation();
                });

                locationInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.saveLocation();
                });

                modal.addEventListener('click', (e) => {
                    if (e.target === modal) modal.style.display = 'none';
                });
            }

            async saveLocation() {
                const locationInput = document.getElementById('location-input');
                const modal = document.getElementById('location-modal');
                const errorMessage = document.getElementById('error-message');
                const newLocation = locationInput.value.trim();

                if (!newLocation) {
                    errorMessage.textContent = 'Please enter a location';
                    return;
                }

                try {
                    const isValid = await this.testLocation(newLocation);
                    if (isValid) {
                        window.userPreferences.weatherLocation = newLocation;
                        localStorage.setItem('userPreferences', JSON.stringify(window.userPreferences));
                        modal.style.display = 'none';
                        this.loadWeather();
                    } else {
                        errorMessage.textContent = 'not found, you tupid.';
                    }
                } catch (error) {
                    errorMessage.textContent = 'validating went wrong :(';
                }
            }

            async getCoordinates(location) {
                try {
                    const response = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(location)}&count=1&language=en&format=json`);
                    const data = await response.json();
                    if (data.results && data.results.length > 0) {
                        return {
                            lat: data.results[0].latitude,
                            lon: data.results[0].longitude,
                            name: data.results[0].name,
                            country: data.results[0].country
                        };
                    }
                    return null;
                } catch (error) {
                    return null;
                }
            }

            async testLocation(location) {
                const coords = await this.getCoordinates(location);
                return coords !== null;
            }

            getWeatherCondition(weatherCode) {
                const weatherCodes = {
                    0: 'Clear',
                    1: 'Mainly Clear',
                    2: 'Partly Cloudy',
                    3: 'Overcast',
                    45: 'Foggy',
                    48: 'Foggy',
                    51: 'Light Drizzle',
                    53: 'Drizzle',
                    55: 'Heavy Drizzle',
                    61: 'Light Rain',
                    63: 'Rain',
                    65: 'Heavy Rain',
                    71: 'Light Snow',
                    73: 'Snow',
                    75: 'Heavy Snow',
                    80: 'Light Showers',
                    81: 'Showers',
                    82: 'Heavy Showers',
                    95: 'Thunderstorm',
                    96: 'Thunderstorm',
                    99: 'Literally dying'
                };
                return weatherCodes[weatherCode] || 'Unknown';
            }

            async loadWeather() {
                if (this.isLoading) return;
                this.isLoading = true;
                const location = window.userPreferences.weatherLocation;

                try {
                    const coords = await this.getCoordinates(location);
                    if (!coords) throw new Error('location not found');
                    const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${coords.lat}&longitude=${coords.lon}&current=temperature_2m,weather_code&timezone=auto`);
                    if (!response.ok) throw new Error('weather API ewwow');
                    const data = await response.json();
                    this.currentWeather = {
                        temperature: Math.round(data.current.temperature_2m),
                        condition: this.getWeatherCondition(data.current.weather_code),
                        location: coords.name
                    };
                    this.updateWeatherDisplay();
                } catch (error) {
                    this.currentWeather = {
                        // fake it if no worky
                        temperature: Math.floor(Math.random() * 30) + 10,
                        condition: ['Silly', 'Comfy'][Math.floor(Math.random() * 2)],
                        location: location
                    };
                    this.updateWeatherDisplay();
                }

                this.isLoading = false;
            }

            updateWeatherDisplay() {
                const weatherDisplay = document.getElementById('weather-display');
                if (this.currentWeather) {
                    weatherDisplay.innerHTML = `
                                                  <span class="weather-temp">${this.currentWeather.temperature}°</span>
                                                  <span class="weather-condition">${this.currentWeather.condition}</span>
                                                `;
                } else {
                    weatherDisplay.innerHTML = `
                                                  <span class="weather-temp">--°</span>
                                                  <span class="weather-condition">Loading...</span>
                                                `;
                }
            }
        }

        class TimeManager {
            constructor() {
                this.timeFormats = [
                    { name: '24-hour', format: { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' } },
                    { name: '12-hour', format: { hour12: true, hour: '2-digit', minute: '2-digit', second: '2-digit' } },
                    { name: 'no-seconds', format: { hour12: false, hour: '2-digit', minute: '2-digit' } },
                    { name: '12-hour-no-seconds', format: { hour12: true, hour: '2-digit', minute: '2-digit' } }
                ];

                this.dateFormats = [
                    { name: 'long', format: { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' } },
                    { name: 'short', format: { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' } },
                    { name: 'numeric', format: { year: 'numeric', month: '2-digit', day: '2-digit' } },
                    { name: 'compact', format: { month: 'short', day: 'numeric' } }
                ];

                this.currentTimeFormat = window.userPreferences.timeFormat;
                this.currentDateFormat = window.userPreferences.dateFormat;

                this.setupClickHandlers();
                this.updateTime();
                setInterval(() => this.updateTime(), 1000);
            }

            setupClickHandlers() {
                document.getElementById('current-time').addEventListener('click', () => {
                    this.currentTimeFormat = (this.currentTimeFormat + 1) % this.timeFormats.length;
                    window.userPreferences.timeFormat = this.currentTimeFormat;
                    localStorage.setItem('userPreferences', JSON.stringify(window.userPreferences));
                    this.updateTime();
                });

                document.getElementById('current-date').addEventListener('click', () => {
                    this.currentDateFormat = (this.currentDateFormat + 1) % this.dateFormats.length;
                    window.userPreferences.dateFormat = this.currentDateFormat;
                    localStorage.setItem('userPreferences', JSON.stringify(window.userPreferences));
                    this.updateTime();
                });
            }

            updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-US', this.timeFormats[this.currentTimeFormat].format);
                const dateString = now.toLocaleDateString('en-US', this.dateFormats[this.currentDateFormat].format);
                document.getElementById('current-time').textContent = timeString;
                document.getElementById('current-date').textContent = dateString;
            }
        }

        class SoundManager {
            constructor() {
                this.sounds = {};
                this.loadSounds();
            }

            loadSounds() {
                const soundNames = ['hover', 'select'];
                soundNames.forEach(name => {
                    const audio = new Audio(`Sounds/${name}.wav`);
                    audio.volume = 0.1;
                    audio.preload = 'auto';
                    this.sounds[name] = audio;
                });
            }

            play(name) {
                if (this.sounds[name]) {
                    try {
                        const audioClone = this.sounds[name].cloneNode();
                        audioClone.volume = this.sounds[name].volume;
                        audioClone.play().catch(e => {
                            console.log('no sound due to browser policy:', e);
                        });

                        setTimeout(() => {
                            audioClone.src = '';
                        }, 5000);
                    } catch (error) {
                        console.log('soundpl ay error:', error);
                    }
                }
            }
        }

        const canvas = document.getElementById('dotsCanvas');
        new SillyDots(canvas);
        new TimeManager();
        new WeatherManager();
        const soundManager = new SoundManager();

        const menuItems = document.querySelectorAll('.menu-item');
        menuItems.forEach(item => {
            item.addEventListener('mouseenter', () => {
                item.style.color = '#6398c2';
                new SoundManager().play('hover');
            });
            item.addEventListener('mouseleave', () => {
                item.style.color = '#6b6a6f';
            });

            item.addEventListener('click', () => {
                new SoundManager().play('select');
            });
        });
    </script>
</body>

</html>
