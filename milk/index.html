<!doctype html>
<html>
<meta name=viewport content="width=device-width,initial-scale=1">
<style>body{margin:0;padding:0;background-size:cover;background-position:center;background-repeat:no-repeat;height:100vh;display:flex;justify-content:center;align-items:center;color:#fff;text-align:center;background-color:#4a5942}</style>
<head>
</head>
<body>
<canvas id=myCanvas></canvas>
<script>var canvas=document.getElementById("myCanvas"),gl=canvas.getContext("webgl");canvas.width=window.innerWidth-20,canvas.height=window.innerHeight-20,canvas.focus();var simHeight=13,cScale=canvas.height/simHeight,simWidth=canvas.width/cScale,U_FIELD=0,V_FIELD=1,FLUID_CELL=0,AIR_CELL=1,SOLID_CELL=2,cnt=0;function clamp(t,e,i){return t<e?e:t>i?i:t}class FlipFluid{constructor(t,e,i,r,s,a){this.density=t,this.fNumX=Math.floor(e/r)+1,this.fNumY=Math.floor(i/r)+1,this.h=Math.max(e/this.fNumX,i/this.fNumY),this.fInvSpacing=1/this.h,this.fNumCells=this.fNumX*this.fNumY,this.u=new Float32Array(this.fNumCells),this.v=new Float32Array(this.fNumCells),this.du=new Float32Array(this.fNumCells),this.dv=new Float32Array(this.fNumCells),this.prevU=new Float32Array(this.fNumCells),this.prevV=new Float32Array(this.fNumCells),this.p=new Float32Array(this.fNumCells),this.s=new Float32Array(this.fNumCells),this.cellType=new Int32Array(this.fNumCells),this.cellColor=new Float32Array(3*this.fNumCells),this.maxParticles=a,this.particlePos=new Float32Array(3*this.maxParticles),this.particleColor=new Float32Array(3*this.maxParticles);for(var l=0;l<this.maxParticles;l++)this.particleColor[3*l+2]=1;this.particleVel=new Float32Array(2*this.maxParticles),this.particleDensity=new Float32Array(this.fNumCells),this.particleRestDensity=0,this.particleRadius=s,this.pInvSpacing=1/(2.2*s),this.pNumX=Math.floor(e*this.pInvSpacing)+1,this.pNumY=Math.floor(i*this.pInvSpacing)+1,this.pNumCells=this.pNumX*this.pNumY,this.numCellParticles=new Int32Array(this.pNumCells),this.firstCellParticle=new Int32Array(this.pNumCells+1),this.cellParticleIds=new Int32Array(a),this.numParticles=0}integrateParticles(t,e){for(var i=0;i<this.numParticles;i++)this.particleVel[2*i+1]+=t*e,this.particlePos[2*i]+=this.particleVel[2*i]*t,this.particlePos[2*i+1]+=this.particleVel[2*i+1]*t}pushParticlesApart(t){this.numCellParticles.fill(0);for(var e=0;e<this.numParticles;e++){var i=this.particlePos[2*e],r=this.particlePos[2*e+1],s=clamp(Math.floor(i*this.pInvSpacing),0,this.pNumX-1),a=clamp(Math.floor(r*this.pInvSpacing),0,this.pNumY-1),l=s*this.pNumY+a;this.numCellParticles[l]++}var o=0;for(e=0;e<this.pNumCells;e++)o+=this.numCellParticles[e],this.firstCellParticle[e]=o;this.firstCellParticle[this.pNumCells]=o;for(e=0;e<this.numParticles;e++){i=this.particlePos[2*e],r=this.particlePos[2*e+1],s=clamp(Math.floor(i*this.pInvSpacing),0,this.pNumX-1),a=clamp(Math.floor(r*this.pInvSpacing),0,this.pNumY-1),l=s*this.pNumY+a;this.firstCellParticle[l]--,this.cellParticleIds[this.firstCellParticle[l]]=e}for(var n=2*this.particleRadius,h=n*n,c=0;c<t;c++)for(e=0;e<this.numParticles;e++){var f=this.particlePos[2*e],u=this.particlePos[2*e+1],p=Math.floor(f*this.pInvSpacing),m=Math.floor(u*this.pInvSpacing),d=Math.max(p-1,0),g=Math.max(m-1,0),v=Math.min(p+1,this.pNumX-1),C=Math.min(m+1,this.pNumY-1);for(s=d;s<=v;s++)for(a=g;a<=C;a++){l=s*this.pNumY+a,o=this.firstCellParticle[l];for(var P=this.firstCellParticle[l+1],A=o;A<P;A++){var S=this.cellParticleIds[A];if(S!=e){var y=this.particlePos[2*S]-f,N=this.particlePos[2*S+1]-u,L=y*y+N*N;if(!(L>h||0==L)){var R=Math.sqrt(L),b=.5*(n-R)/R;y*=b,N*=b,this.particlePos[2*e]-=y,this.particlePos[2*e+1]-=N,this.particlePos[2*S]+=y,this.particlePos[2*S+1]+=N;for(var I=0;I<3;I++){var F=this.particleColor[3*e+I],D=this.particleColor[3*S+I],Y=.5*(F+D);this.particleColor[3*e+I]=F+.001*(Y-F),this.particleColor[3*S+I]=D+.001*(Y-D)}}}}}}}handleParticleCollisions(t,e,i){for(var r=1/this.fInvSpacing,s=this.particleRadius,a=i+s,l=a*a,o=r+s,n=(this.fNumX-1)*r-s,h=r+s,c=(this.fNumY-1)*r-s,f=0;f<this.numParticles;f++){var u=this.particlePos[2*f],p=this.particlePos[2*f+1],m=u-t,d=p-e;m*m+d*d<l&&(this.particleVel[2*f]=scene.obstacleVelX,this.particleVel[2*f+1]=scene.obstacleVelY),u<o&&(u=o,this.particleVel[2*f]=0),u>n&&(u=n,this.particleVel[2*f]=0),p<h&&(p=h,this.particleVel[2*f+1]=0),p>c&&(p=c,this.particleVel[2*f+1]=0),this.particlePos[2*f]=u,this.particlePos[2*f+1]=p}}updateParticleDensity(){var t=this.fNumY,e=this.h,i=this.fInvSpacing,r=.5*e,s=f.particleDensity;s.fill(0);for(var a=0;a<this.numParticles;a++){var l=this.particlePos[2*a],o=this.particlePos[2*a+1];l=clamp(l,e,(this.fNumX-1)*e),o=clamp(o,e,(this.fNumY-1)*e);var n=Math.floor((l-r)*i),h=(l-r-n*e)*i,c=Math.min(n+1,this.fNumX-2),u=Math.floor((o-r)*i),p=(o-r-u*e)*i,m=Math.min(u+1,this.fNumY-2),d=1-h,g=1-p;n<this.fNumX&&u<this.fNumY&&(s[n*t+u]+=d*g),c<this.fNumX&&u<this.fNumY&&(s[c*t+u]+=h*g),c<this.fNumX&&m<this.fNumY&&(s[c*t+m]+=h*p),n<this.fNumX&&m<this.fNumY&&(s[n*t+m]+=d*p)}if(0==this.particleRestDensity){var v=0,C=0;for(a=0;a<this.fNumCells;a++)this.cellType[a]==FLUID_CELL&&(v+=s[a],C++);C>0&&(this.particleRestDensity=v/C)}}transferVelocities(t,e){var i=this.fNumY,r=this.h,s=this.fInvSpacing,a=.5*r;if(t){this.prevU.set(this.u),this.prevV.set(this.v),this.du.fill(0),this.dv.fill(0),this.u.fill(0),this.v.fill(0);for(var l=0;l<this.fNumCells;l++)this.cellType[l]=0==this.s[l]?SOLID_CELL:AIR_CELL;for(l=0;l<this.numParticles;l++){var o=this.particlePos[2*l],n=this.particlePos[2*l+1],h=clamp(Math.floor(o*s),0,this.fNumX-1)*i+clamp(Math.floor(n*s),0,this.fNumY-1);this.cellType[h]==AIR_CELL&&(this.cellType[h]=FLUID_CELL)}}for(var c=0;c<2;c++){var f=0==c?0:a,u=0==c?a:0,p=0==c?this.u:this.v,m=0==c?this.prevU:this.prevV,d=0==c?this.du:this.dv;for(l=0;l<this.numParticles;l++){o=this.particlePos[2*l],n=this.particlePos[2*l+1];o=clamp(o,r,(this.fNumX-1)*r),n=clamp(n,r,(this.fNumY-1)*r);var g=Math.min(Math.floor((o-f)*s),this.fNumX-2),v=(o-f-g*r)*s,C=Math.min(g+1,this.fNumX-2),P=Math.min(Math.floor((n-u)*s),this.fNumY-2),A=(n-u-P*r)*s,S=Math.min(P+1,this.fNumY-2),y=1-v,N=1-A,L=y*N,R=v*N,b=v*A,I=y*A,F=g*i+P,D=C*i+P,Y=C*i+S,w=g*i+S;if(t){var _=this.particleVel[2*l+c];p[F]+=_*L,d[F]+=L,p[D]+=_*R,d[D]+=R,p[Y]+=_*b,d[Y]+=b,p[w]+=_*I,d[w]+=I}else{var E=0==c?i:1,V=this.cellType[F]!=AIR_CELL||this.cellType[F-E]!=AIR_CELL?1:0,B=this.cellType[D]!=AIR_CELL||this.cellType[D-E]!=AIR_CELL?1:0,x=this.cellType[Y]!=AIR_CELL||this.cellType[Y-E]!=AIR_CELL?1:0,M=this.cellType[w]!=AIR_CELL||this.cellType[w-E]!=AIR_CELL?1:0,T=this.particleVel[2*l+c];if((d=V*L+B*R+x*b+M*I)>0){var X=(V*L*p[F]+B*R*p[D]+x*b*p[Y]+M*I*p[w])/d,U=T+(V*L*(p[F]-m[F])+B*R*(p[D]-m[D])+x*b*(p[Y]-m[Y])+M*I*(p[w]-m[w]))/d;this.particleVel[2*l+c]=(1-e)*X+e*U}}}if(t){for(l=0;l<p.length;l++)d[l]>0&&(p[l]/=d[l]);for(l=0;l<this.fNumX;l++)for(var O=0;O<this.fNumY;O++){var k=this.cellType[l*i+O]==SOLID_CELL;(k||l>0&&this.cellType[(l-1)*i+O]==SOLID_CELL)&&(this.u[l*i+O]=this.prevU[l*i+O]),(k||O>0&&this.cellType[l*i+O-1]==SOLID_CELL)&&(this.v[l*i+O]=this.prevV[l*i+O])}}}}solveIncompressibility(t,e,i,r=!0){this.p.fill(0),this.prevU.set(this.u),this.prevV.set(this.v);for(var s=this.fNumY,a=this.density*this.h/e,l=0;l<this.fNumCells;l++)this.u[l],this.v[l];for(var o=0;o<t;o++)for(l=1;l<this.fNumX-1;l++)for(var n=1;n<this.fNumY-1;n++)if(this.cellType[l*s+n]==FLUID_CELL){var h=l*s+n,c=(l-1)*s+n,f=(l+1)*s+n,u=l*s+n-1,p=l*s+n+1,m=this.s[h],d=this.s[c],g=this.s[f],v=this.s[u],C=this.s[p];if(0!=(m=d+g+v+C)){var P=this.u[f]-this.u[h]+this.v[p]-this.v[h];if(this.particleRestDensity>0&&r){var A=this.particleDensity[l*s+n]-this.particleRestDensity;A>0&&(P-=1*A)}var S=-P/m;S*=i,this.p[h]+=a*S,this.u[h]-=d*S,this.u[f]+=g*S,this.v[h]-=v*S,this.v[p]+=C*S}}}updateParticleColors(){for(var t=this.fInvSpacing,e=0;e<this.numParticles;e++){var i=.01;this.particleColor[3*e]=clamp(this.particleColor[3*e]+i,.8,1),this.particleColor[3*e+1]=clamp(this.particleColor[3*e+1]+i,.8,1),this.particleColor[3*e+2]=clamp(this.particleColor[3*e+2]-i,.7,.9);var r=this.particlePos[2*e],s=this.particlePos[2*e+1],a=clamp(Math.floor(r*t),1,this.fNumX-1),l=clamp(Math.floor(s*t),1,this.fNumY-1),o=a*this.fNumY+l,n=this.particleRestDensity;if(n>0)if(this.particleDensity[o]/n<.7){i=.95;this.particleColor[3*e]=i,this.particleColor[3*e+1]=i,this.particleColor[3*e+2]=.85}}}setSciColor(t,e,i,r){e=Math.min(Math.max(e,i),r-1e-4);var s=r-i;e=0==s?.5:(e-i)/s;var a,l,o,n=.25,h=Math.floor(e/n),c=(e-h*n)/n;switch(h){case 0:a=0,l=c,o=1;break;case 1:a=0,l=1,o=1-c;break;case 2:a=c,l=1,o=0;break;case 3:a=1,l=1-c,o=0}this.cellColor[3*t]=a,this.cellColor[3*t+1]=l,this.cellColor[3*t+2]=o}updateCellColors(){this.cellColor.fill(0);for(var t=0;t<this.fNumCells;t++)if(this.cellType[t]==SOLID_CELL)this.cellColor[3*t]=.5,this.cellColor[3*t+1]=.5,this.cellColor[3*t+2]=.5;else if(this.cellType[t]==FLUID_CELL){var e=this.particleDensity[t];this.particleRestDensity>0&&(e/=this.particleRestDensity),this.setSciColor(t,e,0,2)}}simulate(t,e,i,r,s,a,l,o,n,h,c){for(var f=t/1,u=0;u<1;u++)this.integrateParticles(f,e),o&&this.pushParticlesApart(s),this.handleParticleCollisions(n,h,c),this.transferVelocities(!0),this.updateParticleDensity(),this.solveIncompressibility(r,f,a,l),this.transferVelocities(!1,i);this.updateParticleColors(),this.updateCellColors()}}var scene={gravity:-9.81,dt:1/120,flipRatio:.9,numPressureIters:100,numParticleIters:2,frameNr:0,overRelaxation:1.9,compensateDrift:!0,separateParticles:!0,obstacleX:0,obstacleY:0,obstacleRadius:.5,paused:!1,showObstacle:!1,obstacleVelX:0,obstacleVelY:0,showParticles:!0,showGrid:!1,fluid:null};function setupScene(){scene.obstacleRadius=.5,scene.overRelaxation=1.9,scene.dt=1/60,scene.numPressureIters=50,scene.numParticleIters=2;var t=1*simHeight,e=1*simWidth,i=t/100,r=.2*i,s=2*r,a=Math.sqrt(3)/2*s,l=Math.floor((.5*e-2*i-2*r)/s),o=Math.floor((1*t-2*i-2*r)/a),n=l*o;f=scene.fluid=new FlipFluid(1e3,e,t,i,r,n),f.numParticles=l*o;for(var h=0,c=0;c<l;c++)for(var u=0;u<o;u++)f.particlePos[h++]=i+r+s*c+(u%2==0?0:r),f.particlePos[h++]=i+r+a*u;var p=f.fNumY;for(c=0;c<f.fNumX;c++)for(u=0;u<f.fNumY;u++){var m=1;0!=c&&c!=f.fNumX-1&&0!=u||(m=0),f.s[c*p+u]=m}setObstacle(1,1,!0)}const pointVertexShader="\n\t\tattribute vec2 attrPosition;\n\t\tattribute vec3 attrColor;\n\t\tuniform vec2 domainSize;\n\t\tuniform float pointSize;\n\t\tuniform float drawDisk;\n\n\t\tvarying vec3 fragColor;\n\t\tvarying float fragDrawDisk;\n\n\t\tvoid main() {\n\t\tvec4 screenTransform = \n\t\t\tvec4(2.0 / domainSize.x, 2.0 / domainSize.y, -1.0, -1.0);\n\t\tgl_Position =\n\t\t\tvec4(attrPosition * screenTransform.xy + screenTransform.zw, 0.0, 1.0);\n\n\t\tgl_PointSize = pointSize;\n\t\tfragColor = attrColor;\n\t\tfragDrawDisk = drawDisk;\n\t\t}\n\t",pointFragmentShader="\n\t\tprecision mediump float;\n\t\tvarying vec3 fragColor;\n\t\tvarying float fragDrawDisk;\n\n\t\tvoid main() {\n\t\t\tif (fragDrawDisk == 1.0) {\n\t\t\t\tfloat rx = 0.5 - gl_PointCoord.x;\n\t\t\t\tfloat ry = 0.5 - gl_PointCoord.y;\n\t\t\t\tfloat r2 = rx * rx + ry * ry;\n\t\t\t\tif (r2 > 0.25)\n\t\t\t\t\tdiscard;\n\t\t\t}\n\t\t\tgl_FragColor = vec4(fragColor, 1.0);\n\t\t}\n\t",meshVertexShader="\n\t\tattribute vec2 attrPosition;\n\t\tuniform vec2 domainSize;\n\t\tuniform vec3 color;\n\t\tuniform vec2 translation;\n\t\tuniform float scale;\n\n\t\tvarying vec3 fragColor;\n\n\t\tvoid main() {\n\t\t\tvec2 v = translation + attrPosition * scale;\n\t\tvec4 screenTransform = \n\t\t\tvec4(2.0 / domainSize.x, 2.0 / domainSize.y, -1.0, -1.0);\n\t\tgl_Position =\n\t\t\tvec4(v * screenTransform.xy + screenTransform.zw, 0.0, 1.0);\n\n\t\tfragColor = color;\n\t\t}\n\t",meshFragmentShader="\n\t\tprecision mediump float;\n\t\tvarying vec3 fragColor;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(fragColor, 1.0);\n\t\t}\n\t";function createShader(t,e,i){const r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)||console.log("vertex shader compile error: "+t.getShaderInfoLog(r));const s=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(s,i),t.compileShader(s),t.getShaderParameter(s,t.COMPILE_STATUS)||console.log("fragment shader compile error: "+t.getShaderInfoLog(s));var a=t.createProgram();return t.attachShader(a,r),t.attachShader(a,s),t.linkProgram(a),a}var pointShader=null,meshShader=null,pointVertexBuffer=null,pointColorBuffer=null,gridVertBuffer=null,gridColorBuffer=null,diskVertBuffer=null,diskIdBuffer=null;function draw(){if(gl.clearColor(.29,.349,.259,1),gl.clear(gl.COLOR_BUFFER_BIT),gl.viewport(0,0,gl.canvas.width,gl.canvas.height),null==pointShader&&(pointShader=createShader(gl,pointVertexShader,pointFragmentShader)),null==meshShader&&(meshShader=createShader(gl,meshVertexShader,meshFragmentShader)),null==gridVertBuffer){var t=scene.fluid;gridVertBuffer=gl.createBuffer();for(var e=new Float32Array(2*t.fNumCells),i=0,r=0;r<t.fNumX;r++)for(var s=0;s<t.fNumY;s++)e[i++]=(r+.5)*t.h,e[i++]=(s+.5)*t.h;gl.bindBuffer(gl.ARRAY_BUFFER,gridVertBuffer),gl.bufferData(gl.ARRAY_BUFFER,e,gl.DYNAMIC_DRAW),gl.bindBuffer(gl.ARRAY_BUFFER,null)}if(null==gridColorBuffer&&(gridColorBuffer=gl.createBuffer()),scene.showGrid){var a=.9*scene.fluid.h/simWidth*canvas.width;gl.useProgram(pointShader),gl.uniform2f(gl.getUniformLocation(pointShader,"domainSize"),simWidth,simHeight),gl.uniform1f(gl.getUniformLocation(pointShader,"pointSize"),a),gl.uniform1f(gl.getUniformLocation(pointShader,"drawDisk"),0),gl.bindBuffer(gl.ARRAY_BUFFER,gridVertBuffer);var l=gl.getAttribLocation(pointShader,"attrPosition");gl.enableVertexAttribArray(l),gl.vertexAttribPointer(l,2,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,gridColorBuffer),gl.bufferData(gl.ARRAY_BUFFER,scene.fluid.cellColor,gl.DYNAMIC_DRAW);var o=gl.getAttribLocation(pointShader,"attrColor");gl.enableVertexAttribArray(o),gl.vertexAttribPointer(o,3,gl.FLOAT,!1,0,0),gl.drawArrays(gl.POINTS,0,scene.fluid.fNumCells),gl.disableVertexAttribArray(l),gl.disableVertexAttribArray(o),gl.bindBuffer(gl.ARRAY_BUFFER,null)}if(scene.showParticles){gl.clear(gl.DEPTH_BUFFER_BIT);a=2*scene.fluid.particleRadius/simWidth*canvas.width;gl.useProgram(pointShader),gl.uniform2f(gl.getUniformLocation(pointShader,"domainSize"),simWidth,simHeight),gl.uniform1f(gl.getUniformLocation(pointShader,"pointSize"),a),gl.uniform1f(gl.getUniformLocation(pointShader,"drawDisk"),1),null==pointVertexBuffer&&(pointVertexBuffer=gl.createBuffer()),null==pointColorBuffer&&(pointColorBuffer=gl.createBuffer()),gl.bindBuffer(gl.ARRAY_BUFFER,pointVertexBuffer),gl.bufferData(gl.ARRAY_BUFFER,scene.fluid.particlePos,gl.DYNAMIC_DRAW);l=gl.getAttribLocation(pointShader,"attrPosition");gl.enableVertexAttribArray(l),gl.vertexAttribPointer(l,2,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,pointColorBuffer),gl.bufferData(gl.ARRAY_BUFFER,scene.fluid.particleColor,gl.DYNAMIC_DRAW);o=gl.getAttribLocation(pointShader,"attrColor");gl.enableVertexAttribArray(o),gl.vertexAttribPointer(o,3,gl.FLOAT,!1,0,0),gl.drawArrays(gl.POINTS,0,scene.fluid.numParticles),gl.disableVertexAttribArray(l),gl.disableVertexAttribArray(o),gl.bindBuffer(gl.ARRAY_BUFFER,null)}}function setObstacle(t,e,i){var r=0,s=0;i||(r=(t-scene.obstacleX)/scene.dt,s=(e-scene.obstacleY)/scene.dt),scene.obstacleX=t,scene.obstacleY=e;for(var a=scene.obstacleRadius,l=scene.fluid,o=l.numY,n=(Math.sqrt(2),l.h,1);n<l.numX-2;n++)for(var h=1;h<l.numY-2;h++)l.s[n*o+h]=1,dx=(n+.5)*l.h-t,dy=(h+.5)*l.h-e,dx*dx+dy*dy<a*a&&(l.s[n*o+h]=0,l.u[n*o+h]=r,l.u[(n+1)*o+h]=r,l.v[n*o+h]=s,l.v[n*o+h+1]=s);scene.showObstacle=!1,scene.obstacleVelX=r,scene.obstacleVelY=s}var mouseDown=!0;function drag(t,e){if(mouseDown){let i=canvas.getBoundingClientRect(),r=t-i.left-canvas.clientLeft,s=e-i.top-canvas.clientTop;setObstacle(t=r/cScale,e=(canvas.height-s)/cScale,!1)}}function endDrag(){mouseDown=!1,scene.obstacleVelX=0,scene.obstacleVelY=0}function toggleStart(){var t=document.getElementById("startButton");scene.paused?t.innerHTML="Stop":t.innerHTML="Start",scene.paused=!scene.paused}function simulate(){scene.paused||scene.fluid.simulate(scene.dt,scene.gravity,scene.flipRatio,scene.numPressureIters,scene.numParticleIters,scene.overRelaxation,scene.compensateDrift,scene.separateParticles,scene.obstacleX,scene.obstacleY,scene.obstacleRadius,scene.colorFieldNr),scene.frameNr++}function update(){simulate(),draw(),requestAnimationFrame(update)}canvas.addEventListener("mousemove",(t=>{drag(t.x,t.y)})),canvas.addEventListener("touchstart",(t=>{startDrag(t.touches[0].clientX,t.touches[0].clientY)})),canvas.addEventListener("touchend",(t=>{endDrag()})),canvas.addEventListener("touchmove",(t=>{t.preventDefault(),t.stopImmediatePropagation(),drag(t.touches[0].clientX,t.touches[0].clientY)}),{passive:!1}),document.addEventListener("keydown",(t=>{switch(t.key){case"p":scene.paused=!scene.paused;break;case"m":scene.paused=!1,simulate(),scene.paused=!0}})),setupScene(),update()</script>
</body>
</html>