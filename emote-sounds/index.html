<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>twitch emote sounds configurator</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/ekmas/cs16.css@main/css/cs16.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="centered">
        <div class="cs-dialog">
            <div class="section-title">
                <div class="form-group" style="width: 97%; margin-left: -15px;">
                    <label>channel name</label>
                    <input class="cs-input" ype="text" id="channelName" placeholder="enter channel name">
                </div>

                <h3 style="margin-top: 20px;">
                    emotes
                </h3>
                <div class="progress-bar">
                    <label>loading...</label>
                    <div class="cs-progress-bar">
                        <div style="width: 0%" class="bars"></div>
                    </div>
                </div>
            </div>
            <div class="heading">
                <div class="wrapper">
                    <div class="icon"></div>
                    <p class="text">EMOTE SOUNDS CONFIGURATOR</p>
                </div>
                <div class="cs-tooltip">
                    <button disabled class="cs-btn help" style="margin-top: 3px; right: 5px; width: 18px;"
                        onclick="window.location.href='/'"></button>
                    <span style="display: block; text-align: left; right: 125%;" class="text">
                        1. enter your channel name<br>
                        2. add sounds with sound files <br>
                        3. download html file <br>
                        4. add downloaded html file as local browser source into your obs <br>
                        5. (optional) to change something afterwards click load and select previously downloaded html
                        file
                    </span>

                </div>

            </div>

            <header id="header">
                <div class="content-wrapper">
                    <div class="emote-list-container">
                        <div id="emoteList"></div>
                    </div>
                </div>
                <menu class="footer-btns">
                    <button class="cs-btn" onclick="removeAllSounds()">remove all</button>
                    <label class="cs-btn">
                        load
                        <input type="file" accept=".html" onchange="loadHTML(this.files[0])" hidden>
                    </label>
                    <button class="cs-btn" onclick="generateHTML()">download</button>
                </menu>
                <br>
                <menu class="footer-btns" style="position: static;">
                    <button class="cs-btn" onclick="addEmote()"
                        style="max-width: 120px;min-width: 120px; background-color: #709b4b;">
                        + add new emote
                    </button>
                </menu>

            </header>
            <label style="left:8px; bottom: 0;position: absolute; color: var(--secondary-bg);">default sounds by
                OhnePixel, ArrowCS, PSP1G & FTK789</label>
        </div>
    </div>
    <script>
        window.onload = function () {
            const progressBar = document.querySelector(".cs-progress-bar .bars");
            const barElement = document.querySelector(".progress-bar");
            let width = 0;
            const step = 10;
            const interval = 50;
            const maxWidth = 30;

            progressBar.style.width = width + '%';

            const progressInterval = setInterval(() => {
                width += step;
                progressBar.style.width = width + '%';

                if (width >= maxWidth) {
                    clearInterval(progressInterval);
                    console.log('done');
                }
            }, interval);
        };
    </script>
    <script defer src="script.js"></script>
</body>

</html>